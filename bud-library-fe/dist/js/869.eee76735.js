"use strict";(self["webpackChunkbuddhist_library_fe"]=self["webpackChunkbuddhist_library_fe"]||[]).push([[869],{8869:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var a=n(3396),s=n(7139);const o=e=>((0,a.dD)("data-v-0981958a"),e=e(),(0,a.Cn)(),e),d={key:0,class:"section"},i={class:"section-header d-block p-3"},l={class:"main-color font-weight-bold",style:{"font-size":"20px","padding-left":"18px"}},r={class:"float-right"},c={class:"row m-1"},h={class:"col-12"},p={class:"main-color font-weight-bold"},g={class:"col-12"},u={class:"main-color"},b={class:"ml-1"},m={class:"main-color"},f={class:"col-12"},k={class:"badge badge-info"},_={class:"badge badge-info mx-1"},w={class:"section-body"},y={class:"card card-warning"},v=o((()=>(0,a._)("div",{class:"card-header py-0",style:{"min-height":"40px !important"}},[(0,a._)("h4",{class:"main-color"},"MỤC LỤC")],-1))),C={class:"card-body px-0"};function x(e,t,n,o,x,P){const z=(0,a.up)("router-link"),D=(0,a.up)("TreeNodeDisplay");return x.book?((0,a.wg)(),(0,a.iD)("section",d,[(0,a._)("div",i,[(0,a._)("div",l,[(0,a._)("span",null,(0,s.zw)(x.book.name),1),(0,a._)("div",r,[(0,a.Wm)(z,{to:{name:"ViewPdf",params:{id:x.id,startPage:1,index:1}},class:"btn btn-success"},{default:(0,a.w5)((()=>[(0,a.Uk)("Đọc sách")])),_:1},8,["to"])])]),(0,a._)("div",c,[(0,a._)("div",h,[(0,a._)("label",null,[(0,a.Uk)("Tác giả: "),(0,a._)("span",p,(0,s.zw)(x.book.author),1)])]),(0,a._)("div",g,[(0,a._)("label",null,[(0,a.Uk)("Nhà xuất bản: "),(0,a._)("span",u,(0,s.zw)(x.book.publisher),1)]),(0,a._)("label",b,[(0,a.Uk)("- "),(0,a._)("span",m,(0,s.zw)(x.book.publishedYear),1)])]),(0,a._)("div",f,[(0,a._)("span",k,(0,s.zw)(x.book.publisher),1),(0,a._)("span",_,(0,s.zw)(x.book.category.name),1)])])]),(0,a._)("div",w,[(0,a._)("div",y,[v,(0,a._)("div",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(x.book.tableContents,(e=>((0,a.wg)(),(0,a.j4)(D,{key:e.id,node:e,spacing:0,index:0},null,8,["node"])))),128))])])])])):(0,a.kq)("",!0)}n(7658);const P={class:"d-flex"},z={class:"font-weight-bold",style:{width:"100px",padding:"3px 0 0 10px"}},D={key:0},N={key:0};function U(e,t,n,o,d,i){const l=(0,a.up)("router-link"),r=(0,a.up)("TreeNode");return(0,a.wg)(),(0,a.iD)("div",{style:(0,s.j5)(i.nodeMargin),class:"mt-1"},[(0,a._)("div",P,[(0,a._)("div",{class:"table-content-item",style:(0,s.j5)(i.contentItem)},[(0,a.Wm)(l,{to:{name:"ViewPdf",params:{id:e.id,startPage:n.node.fromPage,index:1}}},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(n.node.headerContent),1)])),_:1},8,["to"])],4),(0,a._)("span",z,[(0,a.Uk)((0,s.zw)(n.node.fromPage)+" ",1),null!=n.node.toPage&&""!=n.node.toPage?((0,a.wg)(),(0,a.iD)("label",D,"-")):(0,a.kq)("",!0),(0,a.Uk)(" "+(0,s.zw)(n.node.toPage),1)])]),i.hasChildren?((0,a.wg)(),(0,a.iD)("div",N,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.node.childs,(e=>((0,a.wg)(),(0,a.j4)(r,{key:e.id,node:e,spacing:n.spacing+20,index:n.index+1},null,8,["node","spacing","index"])))),128))])):(0,a.kq)("",!0)],4)}var M={name:"TreeNode",props:{node:{type:Object,required:!0},spacing:{type:Number,default:0},index:{type:Number,default:0}},computed:{nodeMargin(){return{"margin-left":0==this.index?"10px":"40px"}},contentItem(){return{"font-weight":900-200*this.index}},hasChildren(){const{childs:e}=this.node;return e&&e.length>0}},methods:{addChild(){this.node.childs.push({headerContent:"",childs:[]})}}},S=n(89);const T=(0,S.Z)(M,[["render",U],["__scopeId","data-v-a414872a"]]);var j=T,I=n(3627),q=n.n(I),A=n(1073),V={name:"ViewBook",components:{TreeNodeDisplay:j,VuePdfEmbed:q()},data(){return{pageLeft:1,pageRight:2,posX:0,posY:0,selectedString:"",hasSelectedString:!1,book:null,tableContentsArr:[],selectedStringMenu:"",selectedStringMenuParents:[],pagePosition:"",config:A.Z,id:this.$route.params.id}},created(){this.$route.params.id&&this.$store.dispatch("Book/findById",this.$route.params.id).then((e=>{let t=e.data.content.book;this.book=t,this.book.tableContents=t.tableContent;let n=this.book.tableContents;n.forEach((e=>{this.getChilds(e,null,[])}))})),console.log("DATA: ",this.book)},methods:{getChilds(e,t,n){"undefined"===typeof e.parent&&(e.parent=t),this.tableContentsArr.push({headerContent:e.headerContent,fromPage:e.fromPage,toPage:e.toPage,parent:e.parent}),e.childs.length>0&&e.childs.forEach((t=>{this.getChilds(t,e,n)}))},getParents(e){null!=e.parent&&(this.selectedStringMenuParents.push(e.parent.headerContent),console.log(e.parent),this.getParents(e.parent))}}};const Y=(0,S.Z)(V,[["render",x],["__scopeId","data-v-0981958a"]]);var $=Y}}]);
//# sourceMappingURL=869.eee76735.js.map